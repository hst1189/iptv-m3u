<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark_colorblind" data-light-theme="light">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="小饅頭のIPTV">
  <link href="//cdn.jsdelivr.net/npm/@primer/css@21.5.1/dist/primer.min.css" rel="stylesheet" />
  <link rel="icon" href="image/favicon.svg">
  <title>小饅頭のIPTV</title>
    
  <style>
    body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
    #header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
    #footer{margin-top:64px; text-align: center;font-size: small;}

    .avatar {transition: 0.8s;width:64px;height:64px;object-fit: cover;}
    .avatar:hover{transform: scale(1.15) rotate(360deg);}

    #header h1 a{color:inherit;text-decoration:none;vertical-align: bottom;font-size:40px;font-family:Monaco;margin-left:8px;}

    .title-right{display:flex;margin:auto 0 0 auto;}
    .title-right .circle{padding: 14px 16px;margin-right:8px;}
    .title-right button{margin-right:8px;padding:16px;}

    .subnav-search{width:222px;margin-top:8px;margin-right:8px;}
    .subnav-search-input{width:160px;border-top-right-radius:0px;border-bottom-right-radius:0px;}
    .subnav-search button{padding:5px 8px;border-top-left-radius:0px;border-bottom-left-radius:0px;}

    .SideNav{min-width: 360px;}
    .SideNav-icon{margin-right: 16px}
    .SideNav-item .Label{color: #fff;margin-left:4px;}
    .Label{color: #fff;margin-left:4px;}
    #taglabel .Label {margin-bottom:8px;}
    .Counter{color:#fff;background-color:rgba(234, 238, 242, 0.5)}
    
    .genTime{float: right;}
    .d-flex{min-width:0;}

    .listTitle{overflow:hidden;white-space:nowrap;text-overflow: ellipsis;max-width: 100%;}
    .listLabels{white-space:nowrap;display:flex;}
    .listLabels object{max-height:16px;max-width:24px;}

    @media (max-width: 767px) {
      body { padding: 8px;}
      h1 a{font-size:24px;}
      .LabelTime{display:none;}
      .subTitle{display:none;}
      .blogTitle{display:none;}
      .genTime{float: none;}
      .avatar {width:40px;height:40px;}
    }
  
    html, body{
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
    }

    html {    
      background: url('image/home-bg.jpg') no-repeat center center fixed;
      background-size: cover;
    }

    /* 主体布局 */
    body {
            min-width: 200px;
            max-width: 885px;
            margin: 30px auto;   /*设置所有外边距离 */
            font-size: 16px;
            font-family: sans-serif;
            line-height: 1.25;
            background: rgba(237, 239, 233, 0.84); 
            border-radius: 10px; /* 圆角边框 */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); /* 添加阴影 */
            overflow: auto;
    }

    /* 主页博客列表圆角边框 */
    .SideNav {
            background: rgba(255, 255, 255, 0.6); /* 白色背景，透明度60% */
            border-radius: 10px; /* 圆角边框 */
            min-width: unset;
    }

    /* 鼠标放到博客标题后会高亮 */
    .SideNav-item:hover {
            background-color: #c3e4e3;
            border-radius: 10px;
            transform: scale(1.04);
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }

    .SideNav-item {
            transition: 0.1s;
    }
  </style>
  
  <script src="//cdn.jsdelivr.net/npm/hls.js@1.6.2/dist/hls.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/flv.js@1.6.2/dist/flv.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/dashjs@5.0.2/dist/modern/esm/dash.all.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/webtorrent@latest/webtorrent.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/dplayer@1.26.0/dist/DPlayer.min.js"></script>
  </head>
  
  <body>
    <!-- 下拉列表框 -->
  <div style="margin: 10px; float: left;">
    <label for="streamSelect">选择频道：</label>
    <select id="streamSelect">
      <option value="//web.utako.moe/bstbs/index.m3u8">bstbs</option>
      <option value="//web.utako.moe/bsasahi/index.m3u8">bsasahi</option>
      <option value="//web.utako.moe/bstvtokyo/index.m3u8">bstvtokyo</option>
      <!-- 可继续添加更多key=value -->
    </select>
  </div>

    <div id="dplayer" style="width: 100%; height:450px"></div>

    <script>
      // 初始化DPlayer
      let currentUrl = document.getElementById('streamSelect').value;
      let dp = new DPlayer({
        container: document.getElementById('dplayer'),
        video: {
          url: currentUrl,
        },
      });

      // 下拉框事件监听
      document.getElementById('streamSelect').addEventListener('change', function() {
        const newUrl = this.value;
        alert(newUrl);
        // 切换播放源
        dp.switchVideo({
          url: newUrl,
        });
        dp.play();
      });
    </script>
  </body>
</html>
